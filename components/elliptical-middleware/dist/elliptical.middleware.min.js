!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical.middleware=e.elliptical.middleware||{},e.elliptical.middleware.authorization=t(),e.returnExports=e.elliptical.middleware.authorization)}(this,function(){return function(e){return function(t,i,n){try{for(var o=t.app,r=o.locations,a=null,l=!0,d=o.utils.string,s=t._parsedUrl.pathname,u=0;u<r.length;u++)if("**"===d.lastNChars(r[u].path,2)){var c=d.trimLastNChars(r[u].path,2);if(0===s.toLowerCase().indexOf(c.toLowerCase())){a=r[u];break}}else if(s.toLowerCase()===r[u].path.toLowerCase()){a=r[u];break}if(a){for(var f=a.exclude,u=0;u<f.length;u++)if("**"===d.lastNChars(f[u],2)){var p=d.trimLastNChars(f[u],2);if(0===s.toLowerCase().indexOf(p.toLowerCase())){l=!1;break}}else if(s.toLowerCase()===f[u].toLowerCase()){l=!1;break}l?(t.location=s,e?e(t,i,n):n()):n()}else n()}catch(m){n(m)}}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical.middleware=e.elliptical.middleware||{},e.elliptical.middleware.globalCallback=t(),e.returnExports=e.elliptical.middleware.globalCallback)}(this,function(){return function(e){return function(t,i,n){try{t.context||(t.context={}),e?e(t,i,n):n()}catch(o){n(o)}}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical.middleware=e.elliptical.middleware||{},e.elliptical.middleware.http404=t(),e.returnExports=e.elliptical.middleware.http404)}(this,function(){function e(e,i,n){n.context.statusCode=e.statusCode,n.context.message=e.message,n.context.description=e.description,n.context.url=i.url,n.render(n.context,t)}var t="shared.http.status";return function(i,n){return function(o,r,a){("undefined"==typeof i||"function"==typeof i)&&("function"==typeof i&&(n=i),i=t);var l,d=o.app,s=d.settings.STRINGS;l=s&&s._404?s._404:{statusCode:404,message:"Page Not Found",description:"The resource you are looking for could have been removed, had its name changed, or is temporarily unavailable.  Please review the following URL and make sure that it is spelled correctly."},n?n(l,o,r,a,function(t,i,n,o){e(t,i,n)}):e(l,o,r)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical.middleware=e.elliptical.middleware||{},e.elliptical.middleware.httpError=t(),e.returnExports=e.elliptical.middleware.httpError)}(this,function(){function e(e,i,n){n.context.statusCode=e.statusCode,n.context.description=e.description,n.context.message=e.message,n.context.url=i.url,n.render(n.context,t)}var t="shared.http.status",i="Internal Server Error";return function(n,o){return function(r,a,l,d){("undefined"==typeof n||"function"==typeof n)&&("function"==typeof n&&(o=n),n=t);var s={};r.stack?(s.statusCode=500,s.description=r.stack,s.message=i):(s.statusCode=r.statusCode,s.description=r.description,s.message=r.message),o?o(s,a,l,d,function(t,i,n,o){e(t,i,n)}):e(s,a,l)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical.middleware=e.elliptical.middleware||{},e.elliptical.middleware.serviceLocator=t(),e.returnExports=e.elliptical.middleware.serviceLocator)}(this,function(){return function(){return function(e,t,i){e.getType=function(t){var i=e.app,n=i.container;return n.getType(t)},i()}}});