!function(n,t){"undefined"!=typeof module&&module.exports?"undefined"!=typeof window&&(module.exports=t()):"function"==typeof define&&define.amd?define([],t):(n.elliptical=n.elliptical||{},n.elliptical.$Transitions=t(n.elliptical.Class),n.returnExports=n.elliptical.$Transitions)}(this,function(n){var t;return t=n.extend({transition:function(n,t,i,o){function e(n,t){var i={};i.duration=n.durationOut||150,i.delay=n.delayOut||0,i.preset=n.transitionOut||"fadeOut",d.transition(i,t)}function a(n,t){var i={};i.duration=n.duration||300,i.delay=n.delayIn||0,i.preset=s,d.transition(i,t)}var r=this,d=$(n),s=i.transition||"none";i.transitionOut=i.transitionOut||"none";var l=i.preload;void 0===l&&(l=!0),"none"!==s?"none"!==i.transitionOut?e(i,function(){d.addClass("hidden"),d.show(),d.html(t),l?r.preload(d,function(){d.removeClass("hidden"),a(i,o)}):(d.removeClass("hidden"),a(i,o))}):(d.addClass("hidden"),d.show(),d.html(t),l?this.preload(d,function(){d.removeClass("hidden"),a(i,o)}):(d.removeClass("hidden"),a(i,o))):(d.html(t),o&&o instanceof Function&&o.call(this))},preload:function(n,t){var i=n.find("img"),o=i.length,e=0;0===o&&t&&t instanceof Function&&t(),$.each(i,function(n,i){var a=new Image,r=$(a);r.on("load",function(n){e++,r.off("load"),r.off("error"),e===o&&t&&t instanceof Function&&t()}),a.src=i.src,r.on("error",function(n){e++,r.off("load"),r.off("error"),e===o&&t&&t instanceof Function&&t()})})}},{transition:function(n,t,i,o){this.constructor.transition(n,t,i,o)}})});