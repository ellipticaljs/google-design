!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){$.fn.document=function(e){var n,r,a=$.extend({"boolean":!0,arrayAsBody:!0},e||{});if(n={},r=this.booleanSerializeArray(a),$.each(r,function(e,t){var r,a,i;r=t.name,a=t.value,i=$.map(r.split("["),function(e){var t;return t=e[e.length-1],"]"===t?e.substring(0,e.length-1):e}),""===i[0]&&i.shift(),$.deepSet(n,i,a)}),1===Object.keys(n).length&&a.arrayAsBody){var i=n[Object.keys(n)[0]];return t(i)?i:n}return n};var e=function(e){return e===Object(e)},t=function(e){return/Array/.test(Object.prototype.toString.call(e))},n=function(e){return/^[0-9]+$/.test(String(e))};return $.deepSet=function(t,r,a){var i,o,u,s,l;if(!r||0===r.length)throw new Error("ArgumentError: keys param expected to be an array with least one key");i=r[0],1==r.length?""===i?t.push(a):t[i]=a:(o=r[1],""===i&&(s=t.length-1,l=t[t.length-1],e(l)&&!l[o]?i=s:(t.push({}),i=s+1)),void 0===t[i]&&(""===o||n(o)?t[i]=[]:t[i]={}),u=r.slice(1),$.deepSet(t[i],u,a))},$.fn.booleanSerializeArray=function(e){var t=$.extend({"boolean":!0},e||{}),n=/select|textarea/i,r=/text|number|hidden|password|date|datetime|color|email|month|range|tel|time|url|week|search/i;return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||t["boolean"]&&"checkbox"===this.type||n.test(this.nodeName)||r.test(this.type))}).map(function(e,n){var r=$(this).val();return null==r?null:$.isArray(r)?$.map(r,function(e,t){return{name:n.name,value:e}}):{name:n.name,value:t["boolean"]&&"checkbox"===this.type?this.checked?"true":"false":r}}).get()},$});