!function(e,r){"function"==typeof define&&define.amd&&define.amd.dust===!0?define(["dust.core"],r):"object"==typeof exports?module.exports=r(require("dustjs-linkedin")):r(e.dust)}(this,function(e){function r(r,t,n){n=n||"INFO",r=r?"{@"+r+"}: ":"",e.log(r+t,n)}function t(e){c[e]||(r(e,"Deprecation warning: "+e+" is deprecated and will be removed in a future version of dustjs-helpers","WARN"),r(null,"For help and a deprecation timeline, see https://github.com/linkedin/dustjs-helpers/wiki/Deprecated-Features#"+e.replace(/\W+/g,""),"WARN"),c[e]=!0)}function n(e){return e.stack.tail&&e.stack.tail.head&&"undefined"!=typeof e.stack.tail.head.__select__}function a(e){return n(e)&&e.get("__select__")}function s(e,r){var t,n=e.stack.head,a=e.rebase();e.stack&&e.stack.tail&&(a.stack=e.stack.tail);var s={isPending:!1,isResolved:!1,isDeferredComplete:!1,deferreds:[]};for(t in r)s[t]=r[t];return a.push({__select__:s}).push(n,e.stack.index,e.stack.of)}function i(e){var r,t;if(e.isDeferredPending=!0,e.deferreds.length)for(e.isDeferredComplete=!0,r=0,t=e.deferreds.length;t>r;r++)e.deferreds[r]();e.isDeferredPending=!1}function o(e,r){return"function"==typeof r?r.toString().replace(/(^\s+|\s+$)/gm,"").replace(/\n/gm,"").replace(/,\s*/gm,", ").replace(/\)\{/gm,") {"):r}function l(e,r){return function(t,n,a,s){return u(t,n,a,s,e,r)}}function u(e,t,n,s,i,o){var l,u,c,d,h=n.block,f=n["else"],v=a(t)||{};if(v.isResolved&&!v.isDeferredPending)return e;if(s.hasOwnProperty("key"))u=s.key;else{if(!v.hasOwnProperty("key"))return r(i,"No key specified","WARN"),e;u=v.key}return d=s.type||v.type,u=p(t.resolve(u),d),c=p(t.resolve(s.value),d),o(u,c)?(v.isPending||(l=!0,v.isPending=!0),h&&(e=e.render(h,t)),l&&(v.isResolved=!0)):f&&(e=e.render(f,t)),e}function p(e,r){switch(r&&(r=r.toLowerCase()),r){case"number":return+e;case"string":return String(e);case"boolean":return e="false"===e?!1:e,Boolean(e);case"date":return new Date(e)}return e}var c={},d={tap:function(e,r,n){return t("tap"),n.resolve(e)},sep:function(e,r,t){var n=t.block;return r.stack.index===r.stack.of-1?e:n?n(e,r):e},first:function(e,r,t){return 0===r.stack.index?t.block(e,r):e},last:function(e,r,t){return r.stack.index===r.stack.of-1?t.block(e,r):e},contextDump:function(e,t,n,a){var s,i,l=t.resolve(a.to),u=t.resolve(a.key);switch(u){case"full":s=t.stack;break;default:s=t.stack.head}switch(i=JSON.stringify(s,o,2),l){case"console":r("contextDump",i);break;default:i=i.replace(/</g,"\\u003c"),e=e.write(i)}return e},math:function(e,t,n,o){var l,u=o.key,p=o.method,c=o.operand,d=o.round;if(!o.hasOwnProperty("key")||!o.method)return r("math","`key` or `method` was not provided","ERROR"),e;switch(u=parseFloat(t.resolve(u)),c=parseFloat(t.resolve(c)),p){case"mod":0===c&&r("math","Division by 0","ERROR"),l=u%c;break;case"add":l=u+c;break;case"subtract":l=u-c;break;case"multiply":l=u*c;break;case"divide":0===c&&r("math","Division by 0","ERROR"),l=u/c;break;case"ceil":case"floor":case"round":case"abs":l=Math[p](u);break;case"toint":l=parseInt(u,10);break;default:r("math","Method `"+p+"` is not supported","ERROR")}return"undefined"!=typeof l&&(d&&(l=Math.round(l)),n&&n.block?(t=s(t,{key:l}),e=e.render(n.block,t),i(a(t))):e=e.write(l)),e},select:function(e,t,n,o){var l=n.block,u={};return o.hasOwnProperty("key")&&(u.key=t.resolve(o.key)),o.hasOwnProperty("type")&&(u.type=o.type),l?(t=s(t,u),e=e.render(l,t),i(a(t))):r("select","Missing body block","WARN"),e},eq:l("eq",function(e,r){return e===r}),ne:l("ne",function(e,r){return e!==r}),lt:l("lt",function(e,r){return r>e}),lte:l("lte",function(e,r){return r>=e}),gt:l("gt",function(e,r){return e>r}),gte:l("gte",function(e,r){return e>=r}),any:function(e,t,n,s){var i=a(t);return i?i.isDeferredComplete?r("any","Must not be nested inside {@any} or {@none} block","ERROR"):e=e.map(function(e){i.deferreds.push(function(){i.isResolved&&(e=e.render(n.block,t)),e.end()})}):r("any","Must be used inside a {@select} block","ERROR"),e},none:function(e,t,n,s){var i=a(t);return i?i.isDeferredComplete?r("none","Must not be nested inside {@any} or {@none} block","ERROR"):e=e.map(function(e){i.deferreds.push(function(){i.isResolved||(e=e.render(n.block,t)),e.end()})}):r("none","Must be used inside a {@select} block","ERROR"),e},size:function(r,t,n,a){var s,i,o=a.key;if(o=t.resolve(a.key),o&&o!==!0)if(e.isArray(o))s=o.length;else if(!isNaN(parseFloat(o))&&isFinite(o))s=o;else if("object"==typeof o){s=0;for(i in o)o.hasOwnProperty(i)&&s++}else s=(o+"").length;else s=0;return r.write(s)}};for(var h in d)e.helpers[h]=d[h];return e}),function(e,r){"undefined"!=typeof module&&module.exports?module.exports=r(require("dustjs"),require("dustjs-helpers"),require("elliptical-utils")):"function"==typeof define&&define.amd?define(["dustjs","dustjs-helpers","elliptical-utils"],r):e.returnExports=r(e.dust,e.dust.helpers,e.elliptical.utils)}(this,function(e,r,t){var n=t.string,a=t.random;return e.helpers.formatCurrency=function(r,n,a,s){var i,o=e.helpers.tap(s.value,r,n);try{t.isNumeric(o)?(o=parseFloat(o),i=o.toFixed(2)):i=""}catch(l){i=""}return r.write(i)},e.helpers.extFormatCurrency=function(r,n,a,s){var i,o=e.helpers.tap(s.value,r,n);try{t.isNumeric(o)?(o=parseFloat(o),i=o.toFixed(2),i="$"+i.toString()):i=""}catch(l){i=""}return r.write(i)},e.helpers.placeholder=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i=e.helpers.tap(a.defaultValue,r,t);return s?r.write(s):r.write(i)},e.helpers.phraseCase=function(r,t,a,s){var i=e.helpers.tap(s.value,r,t);return i=n.camelCaseToSpace(i),r.write(i)},e.helpers.checked=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i="";return s&&(i="checked"),r.write(i)},e.helpers.radio=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i=e.helpers.tap(a.key,r,t),o="";try{s&&s.toLowerCase()===i.toLowerCase()&&(o="checked")}catch(l){}return r.write(o)},e.helpers.radioChecked=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i=e.helpers.tap(a.key,r,t),o="";try{s&&s.toLowerCase()===i.toLowerCase()&&(o='data-checked="true"')}catch(l){}return r.write(o)},e.helpers.selected=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i=e.helpers.tap(a.key,r,t),o="";try{s&&s.toLowerCase()===i.toLowerCase()&&(o="selected")}catch(l){}return r.write(o)},e.helpers.selectedPage=function(r,t,n,a){var s=t.stack.index+1,i=e.helpers.tap(a.page,r,t);return i=parseInt(i),i===s?r.write("selected"):r.write("")},e.helpers.truthy=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i=e.helpers.tap(a["true"],r,t),o=e.helpers.tap(a["false"],r,t),l=s?i:o;return r.write(l)},e.helpers.falsy=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i=e.helpers.tap(a.altValue,r,t),o=s;return s?("0"===s||"false"===s)&&(o=i):o=i,r.write(o)},e.helpers.hide=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i="";return s&&(i="hide"),r.write(i)},e.helpers.disable=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i="";return s&&(i="disabled"),r.write(i)},e.helpers.toLower=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t);return r.write(s.toLowerCase())},e.helpers.toUpper=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t);return r.write(s.toUpperCase())},e.helpers.readonly=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i="";return s&&(i="readonly"),r.write(i)},e.helpers.position=function(e,r,t){var n=r.stack.index+1;return e.write(n)},e.helpers.index=function(e,r,t){var n=r.stack.index;return e.write(n)},e.helpers.urlEncode=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t);return s=s?encodeURIComponent(s):"",r.write(s)},e.helpers.toggle=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i=e.helpers.tap(a.on,r,t),o=e.helpers.tap(a.onCss,r,t),l=e.helpers.tap(a.offCss,r,t);return css=s===i?o:l,r.write(css)},e.helpers.compare=function(r,t,n,a){var s="",i=e.helpers.tap(a.value,r,t),o=e.helpers.tap(a.test,r,t),l=e.helpers.tap(a.echo,r,t);return i===o&&(s=l),r.write(s)},e.helpers.pluralize=function(r,t,n,a){var s=e.helpers.tap(a.count,r,t),i=e.helpers.tap(a.singular,r,t),o=e.helpers.tap(a.plural,r,t),l=1===s?i:o;return r.write(l)},e.helpers.id=function(r,t,n,s){var i=e.helpers.tap(s.value,r,t);return void 0===i&&(i=a.id()),r.write(i)},e.helpers.guid=function(r,t,n,s){var i=e.helpers.tap(s.value,r,t);return(void 0===i||""===i)&&(i=a.guid()),r.write(i)},e.helpers.properCaseToSentence=function(r,t,a,s){var i=e.helpers.tap(s.value,r,t);return i=n.camelCaseToSpace(i),i=i.charAt(0).toUpperCase()+i.slice(1),r.write(i)},e.helpers.camelCaseToSentence=function(r,t,a,s){var i=e.helpers.tap(s.value,r,t);return i=n.camelCaseToSpace(i),i=i.charAt(0).toUpperCase()+i.slice(1),r.write(i)},e.helpers.count=function(r,t,n,a){var s=e.helpers.tap(a.value,r,t),i=e.helpers.tap(a.minLength,r,t),o=e.helpers.tap(a.content,r,t),l="";return(!s||parseInt(s)<parseInt(i))&&(l=o),r.write(l)},e.helpers.href=function(r,t,n,a){var s="",i=e.helpers.tap(a.value,r,t);return void 0!==i&&""!==i&&(s='href="'+i+'"'),r.write(s)},e});