<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../elliptical-polymer-behaviors/component-behavior.html">


<dom-module id="ui-input-icon">
    <template>
        <input type="text" placeholder="[[placeholder]]" name="[[name]]" id="[[data-id]]" data-bind="[[bind]]">
    </template>
</dom-module>

<script>

    Polymer({

        is: 'ui-input-icon',

        behaviors:[Elliptical.ComponentBehavior],

        properties: {
            placeholder:{
                type:String,
                value:''
            },
            name:{
                type:String,
                value:''
            },
            dataId:{
                type:String,
                value:''
            },
            bind:{
                type:String,
                value:null
            }
        },

        ready:function(){
            var element=this.element;
            var font=element.attr('font');
            if(!font){
                element.attr('font','elliptical');
            }
            this._setValueProp();
        },

        _setValueProp:function(){
            var element=this.element;
            var node=this;
            Object.defineProperty(node, 'value', {
                get: function() { return element.find('input').val(); },
                set: function(newValue) { element.find('input').val(newValue); },
                enumerable: true,
                configurable: true
            });
        }

    });

</script>